<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">

    <title>VerusCoin | How-To | install/update the latest version of Agama for Verus, make a backup of your wallet and install the bootstrap</title>

    <link rel="shortcut icon" href="verus-favicon.png">

	<link rel="image_src" href="https://veruscoin.io/img/veruslogolarge.png" />

	<meta property="og:image" content="https://veruscoin.io/img/veruslogolarge.png" />
	<meta property="og:url" content="https://veruscoin.io" />
	<meta property="og:title" content="VerusCoin" />
	<meta property="og:type" content="website" />
	<meta property="og:description" content="Community driven open source CPU mineable cryptocurrency with 50/50 Proof-of-Work/Proof-of-Stake, zk-SNARK zero-knowledge proof privacy." />

    <link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <link href="../../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="../../vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <link href="../../css/landing-page.min.css" rel="stylesheet">
    <link href="../../css/master.css" rel="stylesheet">
    <link href="../../css/overrides.css" rel="stylesheet">
  </head>

  <body>
    <!-- Scroll to top button -->
    <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    <!-- End -->
    <nav class="navbar navbar-light bg-light static-top">
      <div class="container">
        <a class="navbar-brand" href="/"><img class="mr-0" src="../../img/VRSClogo.svg" style="height: 70px;"></a>
          <div id="mobile-button">
            <span id="line-top" class="mobile-button-line"></span>
            <span id="line-mid" class="mobile-button-line"></span>
            <span class="mobile-button-line"></span>
          </div>
          <script>
              $('#mobile-button').click( function() {
                  $("#main-menu").toggleClass("mobile-menu-show");
          });
          </script>
            <ul id="main-menu" class="list-inline mb-0 mr-4 pr-4">
              <li class="list-inline-item list-menu-item">
                <a class="nav-link js-scroll-trigger active" href="../../index.html">Home</a>
              </li>
              <li class="list-inline-item list-menu-item">
                <a class="nav-link js-scroll-trigger active" href="../../wallet.html">Verus wallet</a>
              </li>
              <li class="list-inline-item list-menu-item">
                <a class="nav-link js-scroll-trigger active" href="../../download.html">Obtain VRSC</a>
              </li>
              <li class="list-inline-item list-menu-item">
                <a class="nav-link js-scroll-trigger active" href="https://explorer.veruscoin.io" target="_blank">Explorer</a>
              </li>
              <li class="list-inline-item list-menu-item">
                <a class="nav-link js-scroll-trigger active" href="https://medium.com/VerusCoin" target="_blank">Blog</a>
              </li>
              <li class="list-inline-item list-menu-item">
                <a class="nav-link js-scroll-trigger active" href="../../service.html">FAQ & How-To</a>
              </li>
            </ul>
      </div>
    </nav>

    <header class="masthead text-white text-center" style="padding-top: 2rem;padding-bottom: 2rem;">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-5 mx-auto">
            <!--<h1 class="mb-5">Verus</h1>-->
          </div>
          <div class="col-lg-4 mx-auto">
            <img style="width:100%;" src="../../img/verustitle.svg" />
            <span class="tagline-new">Truth and Privacy for All</span>
          </div>
          <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
          </div>
        </div>
      </div>
    </header>

    <section class="maincontent" id="FAQ-Linux">
      <section id="Bootstrap" class="bootstrap">
        <div class="container">

<!-- Insert title of FAQ - How-to in this section -->
          <h2 class="mb-5">Linux Bash Scripts To Make Mining Life Easier.</h2>

<!-- Additional remarks -->
          <p>Following are some bash scripts I wrote to help make managing your Linux-based CLI miner a bit easier. Prereq is to install mailutils (postfix) and configure with your server's FQDN and set inet_interfaces=localhost in the postfix/main.cf file.</p>

<!-- Insert Vital information in this section -->
          <h4>Important General Information</h4>
          <pre>
'Agama Wallet location` on Linux: `~/.Komodo/VRSC`
          </pre>

<!-- Insert all Software links in this section -->
          <!--h4>
            Usefull auxiliary Windows software:
          </h4>
          <p>
            <a href="https://raylin.wordpress.com/downloads/md5-sha-1-checksum-utility/" target="_blank">Checksum utility</a><br>
            <a href="https://www.7-zip.org/" target="_blank">7-zip</a>
          </p-->
          <!--h4>
            Necessary files:
          </h4>
          <p>
            Link 1: <a href="../../wallet.html" target="_blank">Download latest Wallet</a><br>
            Link 2: <a href="https://bootstrap.0x03.services/veruscoin/VRSC.html" target="_blank">Download Verus Bootstrap</a>
          </p-->

<!-- insert formatted procedure text in this section -->
          <h4>Procedure:</h4>
          <pre>
          MINER SRVC MONITOR & ALERT IF DOWN
          Checks for the komodod daemon and if it has stopped emails you.

#!/bin/bash

if pgrep -x "komodod" > /dev/null
then
    TRUE="1"
else
    echo "Merry Miner Has Stopped Mining!!! HELP!!" | mail -s "OUTAGE: Merry" -a "From: user@yourqualifieddomain.tld" you@youremail.tld
fi


            ALERT ON NEW BLOCKS MINED
            Prereq: Create a file called txHistory.txt and put 0 in it, saved to your home folder.
            The script then compares the current wallet TX count and compares to the txHistory file...
            so first run it will enter the right number in that file overwriting your 0.
            Only emails you if the number changes.
            I understand this is rudementary as other TXs would increase count, I'm working on a new more accurate script.

#!/bin/bash

historicalcount=$(cat /home/user/txHistory.txt)
livecount=$(/home/user/verus-cli/verus getwalletinfo | grep txcount | sed 's/[^0-9]*//g')

if (($livecount > $historicalcount))
then
    echo $livecount > /home/user/txHistory.txt
    echo "Merry Miner Has Mined a Total of $livecount Blocks! Woot!" | mail -s "Merry's Blocks: $livecount" -a "From: user@yourqualifieddomain.tld" you@youremail.tld
else
  NOCHANGE="1"
fi

            WALLET BACKUP TO SECURED EMAIL (PROTONMAIL SUGGESTED)
            For this script I recommend setting up a new Protonmail account with no association to any other service or your name, 2FA secure it.

echo "Attached Backup" | mail -s "Merry Backup" -A /home/user/.komodo/VRSC/wallet.dat -a "From: user@yourfullyqualifieddomain.tld" you@youremail.tld
Again, these scripts are a little rudementary but they do work! If you're curious my crontab, I'll post it next...to set your cron jobs use the command crontab -e
MY CRONTAB
In the following, the */5 is every 5 min, the 0 is on the hour every hour, the 0 12 is every day at 12 PM.
# m h  dom mon dow   command
*/5 * * * * /home/user/checkfornewblocks.sh
0 * * * * /home/user/checkifkomododisrunning.sh
0 12 * * * /home/user/backupwallet.sh

            !!For any emails sent (for backup of dat file for example) make sure to enforce TLS security in postfix by adding
            the following line to your /etc/postfix/main.cf

smtp_tls_security_level=encrypt
            </pre>
<!-- Insert closing words in this section -->
          <p>
            (submitted by @J Oliver Westbrook)
          </p>
        </div>
      </section>
    </section>


<!-- Footer -->

    <footer class="footer bg-light">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
            <p class="text-muted small mb-4 mb-lg-0">&copy; 2018 The Verus Project. All Rights Reserved.</p>
          </div>
          <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
            <ul class="list-inline mb-0">
              <li class="list-inline-item mr-3">
                <a href="https://twitter.com/veruscoin">
                  <i class="fa fa-twitter fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="https://discord.gg/VRKMP2S">
                  <img style="height: 32px; position: relative; top: -7px" src="../../img/discord.png">
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="https://medium.com/@veruscoin">
                  <i class="fa fa-medium fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="https://reddit.com/r/veruscoin">
                  <i class="fa fa-reddit fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="https://bitcointalk.org/index.php?topic=4070404.0">
                  <i class="fa fa-bitcoin fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="https://github.com/veruscoin/veruscoin">
                  <i class="fa fa-github fa-2x fa-fw"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <script src="../../vendor/jquery/jquery.min.js"></script>
    <script src="../../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
    window.onscroll = function() {scrollFunction()};
    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById("myBtn").style.display = "block";
      } else {
        document.getElementById("myBtn").style.display = "none";
      }
    }
    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
      }
    </script>
  </body>
</html>
